import { adamwathan } from '@/authors'
import card from './card.jpg'

export const meta = {
  title: "Tailwind CSS v3.4: Dynamic viewport units, :has() support, balanced headlines, subgrid, and more",
  description: `There’s nothing like building a major new product for finding all the features you wish you had in your own tools, so we capitalized on that inspiration and turned it into this — Tailwind CSS v3.4.`,
  date: '2023-12-19T15:00:00.000Z',
  authors: [adamwathan],
  image: card,
}

{/*excerpt*/}

There's nothing like building [a major new product](https://twitter.com/steveschoger/status/1732143245696639167) for finding all the features you wish you had in your own tools, so we capitalized on some of that inspiration and turned it into this — Tailwind CSS v3.4.

{/*/excerpt*/}

![Tailwind CSS v3.3](./card.jpg)

There's nothing like building [a major new product](https://twitter.com/steveschoger/status/1732143245696639167) for finding all the features you wish you had in your own tools, so we capitalized on some of that inspiration and turned it into this — Tailwind CSS v3.4.

As always the improvements range from things you've been angry about for years, to supporting CSS features you've never even heard of and probably can't even use at work.

- [**Dynamic viewport units:**](#)
- [**New `:has()` variant**:](#)
- [**Style children with the `*` variant**:](#)
- [**New `size-*` utilities**:](#)
- [**Balanced headlines and pretty paragraphs with `text-wrap` utilities**:](#)
- [**Subgrid support**:](#)
- [**Extended min-width, max-width, and min-height scales**:](#)
- [**Extended opacity scale**:](#)
- [**Extended `grid-rows-*` scale**:](#)
- [**New `forced-colors` variant**:](#)
- [**New `forced-color-adjust` utilities**:](#)

All the good stuff is in that list, but check out the [release notes](#) for a couple more details that weren't exciting enough to earn a spot in this post.

Upgrade your projects by installing the latest version of `tailwindcss` from npm:

```bash
$ npm install tailwindcss@latest
```

Or try out all of the new features on [Tailwind Play](https://play.tailwindcss.com), right in your browser.

---

## Dynamic viewport units

When the `vh` unit was added to browsers we all got so excited — finally a way to build full-height application layouts and stuff without drilling `height: 100%` through 17 layers of DOM! But mobile devices and their damn disappearing menu bars spoiled all the fun, effectively making the `vh` unit just a cruel reminder of a future that could've been so great.

Well we've got a new future now — `dvh`, `lvh`, and `svh` are here and Tailwind CSS v3.4 supports them out of the box:

```html {{ filename: 'layout.html', style: 'framed', color: 'sky' }}
<div class="**min-h-lvh** ...">
  <!-- ... -->
</div>
```

We've added the following classes by default in the latest version:

| Class       | CSS                  |
| ----------- | -------------------- |
| `h-svh`     | `height: 100svh`     |
| `h-lvh`     | `height: 100lvh`     |
| `h-dvh`     | `height: 100dvh`     |
| `min-h-svh` | `min-height: 100svh` |
| `min-h-lvh` | `min-height: 100lvh` |
| `min-h-dvh` | `min-height: 100dvh` |
| `max-h-svh` | `max-height: 100svh` |
| `max-h-lvh` | `max-height: 100lvh` |
| `max-h-dvh` | `max-height: 100dvh` |

If you need values other than 100, you can always use arbitrary values too like `min-h-[75dvh]`.

Browser support is [pretty great](https://caniuse.com/viewport-unit-variants) for these nowadays, so unless you need to support Safari 14 you can start using these right away.

---

## New `:has()` variant

The [`:has()` pseudo-class](https://developer.mozilla.org/en-US/docs/Web/CSS/:has) is the most powerful thing that's been added to CSS since flexbox. For the first time ever, you can style an element based on its _children_, not just based on its parents. It even makes it possible to style based on subsequent siblings.

I feel like I've found a new use-case for `:has()` every week while working on this new UI kit we've been building for the last month, and it's replaced a crazy amount of JavaScript in our code.

Here's a simplified example of how we use it to layout optional elements in a field group:

```jsx {{ filename: 'Field.jsx', style: 'framed', color: 'indigo' }}
function Field({ children }) {
  return (
    <div className="data-[slot=description]:*:has-[data-slot=description]:mt-4 ...">
      {children}
    </div>
  )
}

function Description({ children }) {
  return (
    <p data-slot="description">{children}</p>
  )
}

function Example() {
  return (
    <Field>
      <Label>First name</Label>
      <Input />
      <Description>Please tell me you know your own name.</Description>
    </Field>
  )
}
```

See that crazy `data-[slot=description]:*:has-[data-slot=description]:mt-4`

This one is pretty bleeding edge but as of literally today it's now supported in the latest version of all major browsers.

---

## Style children with the `*` variant

Here's one people have wanted for literally ever — a way to style children from the parent using utility classes.

We've added a new `*` variant that targets direct children, letting you do stuff like this:

```html {{ filename: 'HTML', style: 'framed', color: 'indigo' }}
<nav class="***:underline** ...">
  <a href="/products">Products</a>
  <a href="/support">Support</a>
  <a href="/company">Company</a>
</nav>
```

It can be composed with other variants too, for instance `hover:*:underline` will style any child when the child is hovered.

Here's a cool way we're using that to conditionally add layout styles to different child elements in the new UI kit we're working on:

```jsx {{ filename: 'JSX', style: 'framed', color: 'pink' }}
function Field({ children }) {
  return (
    <div className="data-[slot=description]:*:mt-4 ...">
      {children}
    </div>
  )
}

function Description({ children }) {
  return (
    <p data-slot="description" ...>{children}</p>
  )
}

function Example() {
  return (
    <Field>
      <Label>First name</Label>
      <Input />
      <Description>Please tell me you know your own name.</Description>
    </Field>
  )
}
```

See that crazy `data-[slot=description]:*:mt-4` class? It first targets all direct children (that's the `*:` part), then filters them down to just items with a `data-slot="description"` attribute using `data-[slot=description]`.

This makes it easy to target only specific children, without having to drop all the way down to a raw arbitrary variant.

Looking forward to seeing all the horrible stuff everyone does to make me regret adding this feature.

---

What about Oxide? Coming soon.